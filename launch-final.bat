@echo off
chcp 65001 >nul

echo.
echo 
echo      ?? Metacoding Studio v2.0            
echo         ???????                    
echo 
echo.
echo ?? ????: %cd%
echo ?? ????: %date% %time%
echo ?? ????: http://localhost:5173
echo.

REM ????
if exist "node_modules\.vite" rmdir /s /q "node_modules\.vite" 2>nul
if exist "dist" rmdir /s /q "dist" 2>nul

echo ?? ?????????...
echo.

REM ?????????????
start "" "http://localhost:5173"
timeout /t 2 >nul

call npm run dev

if errorlevel 1 (
    echo.
    echo ? ?????
    echo.
    echo ?? ???:
    echo 1. ?? 5173 ?????
    echo 2. ???????????
    echo 3. ??: npm install
    echo.
    pause
    exit /b 1
)
